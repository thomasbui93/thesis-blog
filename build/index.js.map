{"version":3,"sources":["../server/index.js"],"names":[],"mappings":"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","file":"server/index.js","sourcesContent":["import path from 'path';\nimport express from 'express';\nimport mongoose from 'mongoose';\nimport bodyParser from 'body-parser';\nimport serverConfig  from './config';\nimport compression from 'compression';\n\n\n\nconst isDeveloping = process.argv[2] !== '--production';\nconst port = isDeveloping ? 3000 : process.argv[3];\nlet app = express();\napp.use(bodyParser.urlencoded({ extended: true }));\napp.use(compression({ threshold: 0 }));\n//mongodb config\nmongoose.connect(serverConfig.database.mongodb.uri, serverConfig.database.mongodb.options);\n\n//config routes\n\nimport routes from './routes';\nroutes(app);\n//end config routes\n\nif (isDeveloping) {\n  let webpack = require('webpack');\n  let webpackMiddleware = require('webpack-dev-middleware');\n  let webpackHotMiddleware= require('webpack-hot-middleware');\n  let config =require('../webpack.config.js');\n  const compiler = webpack(config);\n  const middleware = webpackMiddleware(compiler, {\n    publicPath: config.output.publicPath,\n    contentBase: 'src',\n    stats: {\n      colors: true,\n      hash: false,\n      timings: true,\n      chunks: false,\n      chunkModules: false,\n      modules: false\n    }\n  });\n\n  app.use(middleware);\n  app.use(webpackHotMiddleware(compiler));\n\n  //end webpack configuration.\n\n  app.get('*', function response(req, res) {\n    res.write(middleware.fileSystem.readFileSync(path.join(__dirname, 'public/index.html')));\n    res.end();\n  });\n  app.use(express.static(path.resolve(__dirname, '../public')));\n\n\n} else {\n  app.use(express.static(path.resolve(__dirname, '../public')));\n  app.get('*', function response(req, res) {\n    res.sendFile(path.join(__dirname, '../public/index.html'));\n  });\n}\napp.listen(port, '0.0.0.0', function onStart(err) {\n  if (err) {\n    console.log(err);\n  }\n  console.info('==> ðŸŒŽ Listening on port %s. Open up http://0.0.0.0:%s/ in your browser.', port, port);\n});"]}