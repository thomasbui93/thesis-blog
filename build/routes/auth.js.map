{"version":3,"sources":["../../server/routes/auth.js"],"names":[],"mappings":";;AAAA,IAAM,GAAG,GAAG,wCAAwC,CAAC;AACrD,IAAM,GAAG,GAAG,+BAA+B,CAAC;;IACpC,SAAS,WAAO,wBAAwB,EAAxC,SAAS;;iBAEF,UAAC,GAAG,EAAE,GAAG,EAAE,IAAI,EAAG;AAC7B,QAAI,KAAK,GAAG,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC;AAC3B,QAAG,KAAK,KAAG,SAAS,IAAI,KAAK,KAAK,IAAI,EAAC;AACnC,aAAK,GAAG,GAAG,CAAC,KAAK,CAAC,KAAK,CAAA;KAC1B;AACD,QAAG,GAAG,CAAC,MAAM,KAAI,KAAK,EAAC;AACnB,iBAAS,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,UAAC,QAAQ,EAAG;AAC9B,gBAAI,EAAE,CAAA;SACT,EAAE,UAAC,KAAK,EAAG;AACR,mBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,eAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;AACjB,uBAAO,EAAE,gBAAgB;aAC5B,CAAC,CAAC;SACN,CAAC,CAAC;KACN,MAAK;AACF,YAAI,EAAE,CAAC;KACV;CAGJ","file":"server/routes/auth.js","sourcesContent":["const URL = './server/routes/user/confidential.json';\nconst JWT = \"./server/routes/user/JTW.json\";\nimport {checkAuth} from './user/user.controller';\n\nexport default (req, res, next)=>{\n    let token = req.body.token;\n    if(token===undefined || token === null){\n        token = req.query.token\n    }\n    if(req.method !=='GET'){\n        checkAuth(token).then((response)=>{\n            next()\n        }, (error)=>{\n            console.log(error);\n            res.status(403).json({\n                message: \"not authorized\"\n            });\n        });\n    }else {\n        next();\n    }\n\n\n}"]}